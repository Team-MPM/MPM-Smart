@page "/Settings/DeviceSettings"

<MudContainer Class="p-4" MaxWidth="MaxWidth.Large">
    <MudText Typo="Typo.h4">Device-Settings</MudText>

    <MudContainer Style="padding: 20px;">
        <MudGrid Justify="Justify.FlexEnd" AlignItems="Center">
            <MudItem>
                <MudButton Class="mud-theme-primary" Variant="Variant.Filled" OnClick="AddDevice">Add</MudButton>
            </MudItem>
        </MudGrid>
    </MudContainer>

    <MudContainer Class="p-4">
        @foreach (var device in devices)
        {
        <MudCardContent>
            <MudGrid Justify="Justify.SpaceBetween" AlignItems="Center">
                <MudItem Style="display: flex; align-items: center; gap: 10px;">
                    <text style="color: white;">@device</text>
                </MudItem>
                <MudItem Style="display: flex; justify-content: center; align-items: center; gap: 10px;">
                    <MudIcon Icon="@Icons.Material.Filled.Edit" Style="cursor: pointer;" OnClick="() => EditDevice(device)" />
                    <MudIcon Icon="@Icons.Material.Filled.Delete" Style="cursor: pointer;" OnClick="() => DeleteDevice(device)" />
                </MudItem>
            </MudGrid>
        </MudCardContent>
        }
    </MudContainer>
</MudContainer>

@code {
    private List<string> devices = new List<string>
    {
        "Olaf's SmartHome",
        "Julian's SmartHome",
        "Jacob's SmartHome",
        "Gabriel's SmartHome"
    };

    private void AddDevice()
    {
        devices.Add("New Device");
    }

    private void EditDevice(string device)
    {
        
    }

    private void DeleteDevice(string device)
    {
        devices.Remove(device);
        StateHasChanged();
    }
}
