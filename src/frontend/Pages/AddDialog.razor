@page "/AddDialog"

<MudDialog >
    <TitleContent>
        Device hinzufügen
    </TitleContent>
    <DialogContent>
        <MudContainer Style="height: 600px" Class="d-flex flex-row">
            <MudTabs Elevation="1" Rounded="true" PanelClass="pa-6" ActiveTabClass="border-solid border-2 mud-border-primary">
                <MudTabPanel>
                    <ChildContent>
                        <MudText>Geräte automatisch finden</MudText>
                    </ChildContent>
                    <TabContent>Automatisch</TabContent>
                </MudTabPanel>
                <MudTabPanel>
                    <ChildContent>
                        <EditForm Model="@model" OnValidSubmit="OnValidSubmit">
                            <DataAnnotationsValidator/>
                            <MudGrid>
                                <MudItem xs="12" sm="7">
                                    <MudCard>
                                        <MudCardContent>
                                            <MudTextField Label="First name" HelperText="Max. 8 characters"
                                                          @bind-Value="model.Username" For="@(() => model.Username)"/>
                                            <MudTextField Label="Email" Class="mt-3"
                                                          @bind-Value="model.Email" For="@(() => model.Email)"/>
                                            <MudTextField Label="Password" HelperText="Choose a strong password" Class="mt-3"
                                                          @bind-Value="model.Password" For="@(() => model.Password)" InputType="InputType.Password"/>
                                            <MudTextField Label="Password" HelperText="Repeat the password" Class="mt-3"
                                                          @bind-Value="model.Password2" For="@(() => model.Password2)" InputType="InputType.Password"/>
                                        </MudCardContent>
                                        <MudCardActions>
                                            <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto">Register</MudButton>
                                        </MudCardActions>
                                    </MudCard>
                                </MudItem>
                            </MudGrid>
                        </EditForm>
                    </ChildContent>
                    <TabContent>
                        <MudText>Manuell</MudText>
                    </TabContent>
                </MudTabPanel>
            </MudTabs>
        </MudContainer>
    </DialogContent>
</MudDialog>

@code {
    RegisterAccountForm model = new RegisterAccountForm();
    bool success;

    public class RegisterAccountForm
    {
        public string Username { get; set; }

        public string Email { get; set; }

        public string Password { get; set; }

        public string Password2 { get; set; }

    }

    private void OnValidSubmit(EditContext context)
    {
        success = true;
        StateHasChanged();
    }
}