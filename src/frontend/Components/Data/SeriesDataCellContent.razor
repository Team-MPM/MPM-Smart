@using ApiSchema

<MudChart ChartType="ChartType.Line" ChartSeries="m_Series" Width="100%" Height="350px" ChartOptions="@m_Options" />

@code {
    [Parameter] public required SeriesDataQueryResultDto Data { get; set; }
    [Parameter] public required DataPointDto DataPoint { get; set; }

    private ChartOptions m_Options = new();
    private List<ChartSeries> m_Series = [];

    protected override void OnParametersSet()
    {
        m_Series.Clear();
        m_Series.Add(new ChartSeries()
        {
            Name = DataPoint.Name,
            Data = Data.Data.Select(e => double.Parse(e.ToString() ?? "0")).ToArray()
        });   
        base.OnParametersSet();
    }
}